;--------------------------------------------------------------------
;STRIPPER CFG BY MOLTARD http://steamcommunity.com/id/0123456789ABC/
;--------------------------------------------------------------------
;FIX NAZGUL
;-----------

filter:
{
	"targetname" "matarr"
	"classname" "trigger_hurt"
}

add:
{
	"targetname" "NazgulKillOwner"
	"origin" "1538 -313 -4019"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnTrue" "!activator,SetHealth,0,0,-1"
}
add:
{
	"model" "*118"
	"origin" "1538 -313 -4019"
	"targetname" "NazgulGameZone"
	"classname" "game_zone_player"
	"OnPlayerOutZone" "!activator,FireUser1,,0,-1"
}

modify:
{
	match:
	{
		"targetname" "nazgulknife"
		"classname" "weapon_knife"
	}
	insert:
	{
		"OnPlayerPickup" "NazgulKillOwner,SetValue,1,0,1"
		"OnPlayerPickup" "!activator,AddOutput,OnUser1 NazgulKillOwner:Test::0:1,0,1"
	}
}

modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{
		"OnNewGame" "NazgulGameZone,CountPlayersInZone,,0,1"
	}
}
modify:
{
	match:
	{
		"targetname" "vidanazgul"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnBreak" "NazgulGameZone,CountPlayersInZone,,0,1"
	}
}
modify:
{
	match:
	{
		"targetname" "vidanazgul2"
		"classname" "func_physbox_multiplayer"
	}
	insert:
	{
		"OnBreak" "NazgulGameZone,CountPlayersInZone,,0,1"
	}
}

;----------------
;FIX NUKE GLITCH
;----------------

modify:
{
	match:
	{
		"targetname" "derrumbamiento"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnUser1" "suelokesecae*,Kill,,12,1"
	}
}

add:
{
	"model" "*260"
	"targetname" "nukefinal"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-4400 3968 -5682"
	"nodmgforce" "0"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "20"
	"damage" "9999999"
	"classname" "trigger_hurt"
}

add:
{
	"model" "*260"
	"targetname" "nukefinal"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-4400 3968 -4818"
	"nodmgforce" "0"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "20"
	"damage" "9999999"
	"classname" "trigger_hurt"
}

add:
{
	"model" "*260"
	"targetname" "nukefinal"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-4400 3968 -3978"
	"nodmgforce" "0"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "20"
	"damage" "9999999"
	"classname" "trigger_hurt"
}


modify:
{
	match:
	{
		"targetname" "nukefinal"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"damage" "9999999"
	}
}

;----------------------
;REMOVE USELESS ENTITY
;----------------------

filter:
{
	"targetname" "filtro2"
	"filtername" "anillo"
	"classname" "filter_activator_name"
}


;------------------------
;DELETE LIGHT FILTER
;LET ENTWATCH DO THE JOB
;------------------------


filter:
{
	"targetname" "filtro_erendil"
	"classname" "filter_activator_name"
}

modify:
{
	match:
	{
		"targetname" "star1"
		"classname" "func_button"
	}
	delete:
	{
		"OnPressed" "filtro_erendil,TestActivator,,0,-1"
	}
	insert:
	{
		"OnPressed" "luzcheck,SetValueCompare,1,0,-1"
	}
}

;----------------------
;PREVENT PEOPLE WHO 
; DIDNT GO DOWN THE HILL 
; FROM TRIGGERING
;-----------------------

modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{
		"OnNewGame" "player,AddOutput,targetname default,0,1"
	}
}

add:
{
	"model" "*201"
	"wait" "1"
	"targetname" "PLAYER_BECOME_LEGIT_TRIGGER"
	"StartDisabled" "0"
	"spawnflags" "1"
	"origin" "-2543 6233 -2506"
	"filtername" "humanos"
	"classname" "trigger_multiple"
	"OnStartTouch" "!activator,AddOutput,targetname LEGIT_PLAYER,0,-1"
}

add:
{
	"origin" "-2543 6233 -2506"
	"targetname" "LEGIT_PLAYER_FILTER"
	"Negated" "0"
	"filtername" "LEGIT_PLAYER"
	"classname" "filter_activator_name"
}
add:
{
	"origin" "-2543 6233 -2506"
	"targetname" "UNLEGIT_PLAYER_FILTER"
	"Negated" "1"
	"filtername" "LEGIT_PLAYER"
	"classname" "filter_activator_name"
}

add:
{
	"origin" "-2543 6233 -2506"
	"targetname" "YOU_ARE_TOTALLY_LEGIT_FILTER"
	"Negated" "0"
	"filtertype" "0"
	"Filter01" "humanos"
	"Filter02" "LEGIT_PLAYER_FILTER"
	"classname" "filter_multi"
}
add:
{
	"origin" "-2543 6233 -2506"
	"targetname" "YOU_ARE_TOTALLY_UNLEGIT_FILTER"
	"Negated" "0"
	"filtertype" "0"
	"Filter01" "humanos"
	"Filter02" "UNLEGIT_PLAYER_FILTER"
	"classname" "filter_multi"
}

modify:
{
	match:
	{
		"origin" "-6824 4016 -3226"
		"classname" "trigger_once"
		"hammerid" "1083"
		"filtername" "humanos"
	}
	replace:
	{
		"filtername" "YOU_ARE_TOTALLY_LEGIT_FILTER"
	}
}

modify:
{
	match:
	{
		"targetname" "supervivientes"
		"filtername" "humanos"
		"classname" "trigger_once"
	}
	replace:
	{
		"filtername" "YOU_ARE_TOTALLY_LEGIT_FILTER"
	}
}

; Destroy their score
add:
{
	"model" "*68"
	"wait" "-1"
	"targetname" "supervivientes"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-6434 4014 -3396.55"
	"filtername" "YOU_ARE_TOTALLY_UNLEGIT_FILTER"
	"classname" "trigger_once"
	"OnStartTouch" "anillomiomenos20,ApplyScore,,0,-1"
	"OnStartTouch" "anillomiomenos20,ApplyScore,,0,-1"
	"OnStartTouch" "anillomiomenos20,ApplyScore,,0,-1"
}

modify:
{
	match:
	{
		"targetname" "derrr"
		"classname" "trigger_once"
	}
	delete:
	{
		"OnStartTouch" "derrumbamiento,FireUser1,,0,1"
	}
	insert:
	{
		"OnStartTouch" "derrumbamiento,FireUser1,,4,1"
	}
}

;modify:
;{
;	match:
;	{
;		"origin" "-6824 4016 -3226"
;		"classname" "trigger_once"
;	}
;	delete:
;	{
;		"OnStartTouch" "derrr,Enable,,0,-1"
;		"OnStartTouch" "derrumbamiento,FireUser1,,10,1"
;		"OnStartTouch" "vidanazgul,Break,,19.5,1"
;		"OnStartTouch" "nukefinal,Enable,,20,1"
;		"OnStartTouch" "nukefinal2,Enable,,20,1"
;		"OnStartTouch" "supervivientes,Enable,,20,1"
;		"OnStartTouch" "supervivientes,Disable,,20.05,1"
;	}
;	insert:
;	{
;		"OnStartTouch" "derrr,Enable,,5,-1"
;		"OnStartTouch" "derrumbamiento,FireUser1,,15,1"
;		"OnStartTouch" "vidanazgul,Break,,24.5,1"
;		"OnStartTouch" "nukefinal,Enable,,25,1"
;		"OnStartTouch" "nukefinal2,Enable,,25,1"
;		"OnStartTouch" "supervivientes,Enable,,25,1"
;		"OnStartTouch" "supervivientes,Disable,,25.05,1"
;	}
;}

;---------------------------------
;FIX THE WHEEL MODEL BEING KILLED 
;IF THE DOORS WERE FULLY OPENED
;---------------------------------

modify:
{
	match:
	{
		"targetname" "puerta_3"
		"classname" "func_movelinear"
	}
	delete:
	{
		"OnFullyOpen" "manibela_1_modelo1,SetParent,manibela_1_fisica1,0,-1"
	}
	insert:
	{
		"OnFullyOpen" "manibela_1_modelo1,ClearParent,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "puerta_2"
		"classname" "func_movelinear"
	}
	delete:
	{
		"OnFullyOpen" "manibela_1_modelo,SetParent,manibela_1_fisica,0,-1"
	}
	insert:
	{
		"OnFullyOpen" "manibela_1_modelo,ClearParent,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "puerta_4"
		"classname" "func_movelinear"
	}
	delete:
	{
		"OnFullyOpen" "manibela_1_modelo4,SetParent,manibela_1_fisica2,0,-1"
	}
	insert:
	{
		"OnFullyOpen" "manibela_1_modelo4,ClearParent,,0,-1"
	}
}
modify:
{
	match:
	{
		"targetname" "puerta_5"
		"classname" "func_movelinear"
	}
	delete:
	{
		"OnFullyOpen" "manibela_1_modelo5,SetParent,manibela_1_fisica3,0,-1"
	}
	insert:
	{
		"OnFullyOpen" "manibela_1_modelo5,ClearParent,,0,-1"
	}
}

;---------------------------------------------------------
;HANDLE THE SPEED REDUCTION OF RING USER THROUGH A BRANCH
;AND A COUNTER TO ALLOW ADMINS TO CHANGE THE SPEED
;---------------------------------------------------------

; Picking the ring test the branch handling speed
modify:
{
	match:
	{
		"targetname" "anillo"
		"classname" "weapon_deagle"
	}
	delete:
	{
		"OnPlayerPickup" "speed,ModifySpeed,0.7,0,-1"
		"OnPlayerPickup" "consola,Command,say ** The bearer feels the weight of the Ring ** Protect him! **,1,-1"
		"OnPlayerPickup" "fix_player_pickup1,Enable,,0,1"
	}
	insert:
	{
		"OnPlayerPickup" "RingItemSpeedSlow_Branch,Test,,0,-1"
	}
}

; The trigger (enabled by a timer) to force ring bearer speed use the counter
modify:
{
	match:
	{
		"targetname" "fix_player_pickup2"
		"classname" "trigger_multiple"
	}
	delete:
	{
		"OnStartTouch" "speed,ModifySpeed,0.7,0,-1"
	}
	insert:
	{
		"OnStartTouch" "RingItemSpeedSlow_Counter,GetValue,,0,-1"
	}
}

; Branch with default value to 'true' and counter '1' (= speed 0.7)
add:
{
	"targetname" "RingItemSpeedSlow_Branch"
	"origin" "8576 512 -4352"
	"InitialValue" "1"
	"classname" "logic_branch"
	"OnFalse" "speed,ModifySpeed,1,0,-1"
	"OnTrue" "RingItemSpeedSlow_Counter,GetValue,,0,-1"
	"OnTrue" "consola,Command,say ** The bearer feels the weight of the Ring ** Protect him! **,1,-1"
	; This timer below set the player speed back to 0.7 every 15 sec when enabled
	"OnTrue" "fix_player_pickup1,Enable,,0,1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "RingItemSpeedSlow_Counter"
	"startvalue" "1"
	"StartDisabled" "0"
	"min" "1"
	"max" "7"
	"classname" "math_counter"
	"OnGetValue" "RingItemSpeedSlow_Case,InValue,,0,-1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "RingItemSpeedSlow_Case"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"Case05" "5"
	"Case06" "6"
	"Case07" "7"
	"classname" "logic_case"
	"OnCase01" "speed,ModifySpeed,0.7,0,-1"
	"OnCase02" "speed,ModifySpeed,0.75,0,-1"
	"OnCase03" "speed,ModifySpeed,0.8,0,-1"
	"OnCase04" "speed,ModifySpeed,0.85,0,-1"
	"OnCase05" "speed,ModifySpeed,0.9,0,-1"
	"OnCase06" "speed,ModifySpeed,0.95,0,-1"
	"OnCase07" "speed,ModifySpeed,1,0,-1"
}

;--------------------------------------------------
;FIX RING BEARER SPEED AFTER HE DESTROYED THE RING
;--------------------------------------------------

add:
{
	"model" "*106"
	"targetname" "ResetRingUserSpeed_Trigger"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-1896 14323.9 -872"
	"filtername" "humanos"
	"classname" "trigger_once"
	"OnStartTouch" "speed,ModifySpeed,1,0,-1"
}

; Ring destroyed trigger
modify:
{
	match:
	{
		"targetname" "areadeanillo5"
		"classname" "trigger_once"
	}
	insert:
	{
		"OnStartTouch" "ResetRingUserSpeed_Trigger,Enable,,0,-1"
	}
}

;---------------------------------------------
;SEPARATE THE MISSIONS MORE CLEANLY
;TO ALLOW ADMINS TO FORCE A SPECIFIC MISSION
;---------------------------------------------

filter:
{
	"targetname" "mision"
	"classname" "logic_case"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "MissionDestroyRing"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "consola,Command,say **Destroy the Ring**,0,1"
	"OnTrigger" "puertamisi,Kill,,0,1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "MissionReachMountDoom"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnTrigger" "consola,Command,say **Reach the Mount Doom**,0,1"
	"OnTrigger" "torreY,Kill,,0,1"
	"OnTrigger" "anillo,Kill,,0,1"
	"OnTrigger" "areadeanillo2,Kill,,0,1"
	"OnTrigger" "areadeanillo2repetidor,Kill,,0,1"
	"OnTrigger" "paso2,Kill,,0,1"
	"OnTrigger" "areadeanillo3,Kill,,0,1"
	"OnTrigger" "areadeanillo3repetidor,Kill,,0,1"
	"OnTrigger" "filtrofrodo,Kill,,0,1"
	"OnTrigger" "anillodestmenos,Kill,,0,1"
	"OnTrigger" "anillodest15,Kill,,0,1"
	"OnTrigger" "anillofn,Kill,,0,1"
	"OnTrigger" "barreraprotectora,Disable,,0,1"
	"OnTrigger" "sam2,Kill,,0,1"
	"OnTrigger" "sam1,Kill,,0,1"
	"OnTrigger" "areadeanillo4,Kill,,0,1"
	"OnTrigger" "areadeanillo4repetidor,Kill,,0,1"
	"OnTrigger" "anillodest20,Kill,,0,1"
	"OnTrigger" "porsiacaso2,Kill,,0,1"
	"OnTrigger" "mision2,Enable,,0,1"
	"OnTrigger" "bottonpuerta,Unlock,,0,1"
	"OnTrigger" "areadeanillo5repetidor,Kill,,0,1"
	"OnTrigger" "pushx3,Kill,,0,1"
	"OnTrigger" "areadeanillo6,Kill,,0,1"
	"OnTrigger" "borrarMision2,Trigger,,0,1"	
}

add:
{
	"origin" "8576 512 -4352"
	"targetname" "MissionSelectRandom"
	"classname" "logic_case"
	"OnCase01" "MissionDestroyRing,Trigger,,0,1"
	"OnCase02" "MissionDestroyRing,Trigger,,0,1"
	"OnCase03" "MissionReachMountDoom,Trigger,,0,1"
	"OnCase04" "MissionDestroyRing,Trigger,,0,1"
	"OnCase05" "MissionDestroyRing,Trigger,,0,1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "MissionSelectCompare"
	"InitialValue" "0"
	"CompareValue" "1"
	"classname" "logic_compare"
	"OnLessThan" "consola,Command,say **Random objective:**,0,-1"
	"OnLessThan" "MissionSelectRandom,PickRandom,,1,-1"	
	"OnEqualTo" "MissionDestroyRing,Trigger,,1,-1"
	"OnGreaterThan" "MissionReachMountDoom,Trigger,,1,-1"
}
modify:
{
	match:
	{
		; This is the init trigger at spawn
		"origin" "10736 -7780 -4669.98"
		"classname" "trigger_once"
		"hammerid" "1772"
	}
	delete:
	{
		"OnStartTouch" "consola,Command,say **Random objective:**,5,1"
		"OnStartTouch" "mision,PickRandom,,6,1"
	}
	insert:
	{
		"OnStartTouch" "MissionSelectCompare,Compare,,5,1"
	}
}

;---------------------------------
;MAKE NAZGUL TOGGLEABLE BY ADMINS
;---------------------------------

; Default value to 'true'
add:
{
	"targetname" "NazgulItemDoor_Branch"
	"origin" "8576 512 -4352"
	"InitialValue" "1"
	"classname" "logic_branch"
	"OnTrue" "puertax,Break,,0,1"
}

modify:
{
	match:
	{
		; This is the trigger at the nazgul door
		"origin" "5278.43 3642.73 -3799.88"
		"classname" "trigger_once"
		"hammerid" "2259"
	}
	delete:
	{
		"OnStartTouch" "puertax,Break,,5,1"
	}
	insert:
	{
		"OnStartTouch" "NazgulItemDoor_Branch,Test,,5,1"
	}
}

;============================
; UNLOZE EVENT JANUARY 2023
; Special Stuff
;============================

;***********************************
; Permanent entities initialisation
;***********************************

modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{
		"OnNewGame" "Stripper_Event_Init,FireUser1,,0,1"
		"OnNewGame" "4EchoEvent_MissionSelect_COUNTER,GetValue,,3,1"
		"OnNewGame" "4EchoEvent_RingSlow_COUNTER,GetValue,,10,1"
		"OnNewGame" "4EchoEvent_FasterDoors_COUNTER,GetValue,,11,1"
		"OnNewGame" "4EchoEvent_NazgulToggle_BRANCH,Test,,12,1"
	}
}

add:
{
	"targetname" "Stripper_Event_Init"
	"origin" "8576 512 -4352"
	"classname" "info_target"
	"OnUser1" "Template_PermStripperEventMode,ForceSpawn,,0,1"
	"OnUser1" "4EchoEvent_RingSlow_COUNTER,AddOutput,classname info_target,0.03,1"
	"OnUser1" "4EchoEvent_MissionSelect_COUNTER,AddOutput,classname info_target,0.03,1"
	"OnUser1" "4EchoEvent_FasterDoors_COUNTER,AddOutput,classname info_target,0.03,1"
	"OnUser1" "4EchoEvent_NazgulToggle_BRANCH,AddOutput,classname info_target,0.03,1"
	"OnUser1" "!self,Kill,,0.06,1"
}

add:
{
	"targetname" "Template_PermStripperEventMode"
	"origin" "8576 512 -4352"
	"Template01" "4EchoEvent_RingSlow_COUNTER"
	"Template02" "4EchoEvent_MissionSelect_COUNTER"
	"Template03" "4EchoEvent_FasterDoors_COUNTER"
	"Template04" "4EchoEvent_NazgulToggle_BRANCH"
	"spawnflags" "2"
	"classname" "point_template"
	"OnEntitySpawned" "!self,Kill,,0,-1"
}


;**************************
; Handle ring bearer speed
;**************************

; Permanent math_counter
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_RingSlow_COUNTER"
	"startvalue" "0"
	"StartDisabled" "0"
	"min" "0"
	"max" "7"
	"classname" "math_counter"
	"OnGetValue" "4EchoEvent_RingSlow_CASE,InValue,,0,-1"
}

add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_RingSlow_CASE"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"Case05" "5"
	"Case06" "6"
	"Case07" "7"
	"classname" "logic_case"
	; Nothing changes OnCase01
	"OnDefault" "!self,FireUser1,,0,1"
	"OnCase01" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.7% (DEFAULT) **,0,1"
	"OnCase01" "RingItemSpeedSlow_Counter,SetValue,1,0,1"
	
	"OnCase02" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.75% **,0,1"
	"OnCase02" "RingItemSpeedSlow_Counter,SetValue,2,0,1"
	
	"OnCase03" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.8% **,0,1"
	"OnCase03" "RingItemSpeedSlow_Counter,SetValue,3,0,1"
	
	"OnCase04" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.85% **,0,1"
	"OnCase04" "RingItemSpeedSlow_Counter,SetValue,4,0,1"
	
	"OnCase05" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.9% **,0,1"
	"OnCase05" "RingItemSpeedSlow_Counter,SetValue,5,0,1"
	
	"OnCase06" "consola,Command,say ** [EVENT] RING WILL SLOW DOWN THE BEARER 0.95% **,0,1"
	"OnCase06" "RingItemSpeedSlow_Counter,SetValue,6,0,1"
	
	"OnCase07" "consola,Command,say ** [EVENT] RING WON'T SLOW DOWN THE BEARER **,0,1"
	"OnCase07" "RingItemSpeedSlow_Branch,SetValue,0,0,1"
	"OnCase07" "RingItemSpeedSlow_Counter,SetValue,7,0,1"
}

; logic_relay for MapAdmin
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_RingSlow_RELAY_1"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_RingSlow_COUNTER,SetValue,1,0,-1"
	"OnUser1" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.7% DEFAULT) **,0,-1"
	"OnUser2" "4EchoEvent_RingSlow_COUNTER,SetValue,2,0,-1"
	"OnUser2" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.75%) **,0,-1"
	"OnUser3" "4EchoEvent_RingSlow_COUNTER,SetValue,3,0,-1"
	"OnUser3" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.8%) **,0,-1"
	"OnUser4" "4EchoEvent_RingSlow_COUNTER,SetValue,4,0,-1"
	"OnUser3" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.85%) **,0,-1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_RingSlow_RELAY_2"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_RingSlow_COUNTER,SetValue,5,0,-1"
	"OnUser1" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.90%) **,0,-1"
	"OnUser2" "4EchoEvent_RingSlow_COUNTER,SetValue,6,0,-1"
	"OnUser2" "consola,Command,say ** An admin enabled RING BEARER SLOW DOWN (0.95%) **,0,-1"
	"OnUser3" "4EchoEvent_RingSlow_COUNTER,SetValue,7,0,-1"
	"OnUser3" "consola,Command,say ** An admin disabled RING BEARER SLOW DOWN **,0,-1"
}




;********************************
; Handle random mission or fixed
;********************************

; Permanent math_counter
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_MissionSelect_COUNTER"
	"startvalue" "0"
	"StartDisabled" "0"
	"min" "0"
	"max" "2"
	"classname" "math_counter"
	"OnGetValue" "MissionSelectCompare,SetValue,,0,-1"
	"OnGetValue" "4EchoEvent_MissionSelect_COMPARE,SetValueCompare,,0,-1"
	; Outputs for MapAdmin
	"OnUser1" "!self,SetValue,0,0,-1"
	"OnUser1" "consola,Command,say ** An admin set the mission to RANDOM (DEFAULT) **,0,-1"
	"OnUser2" "!self,SetValue,1,0,-1"
	"OnUser2" "consola,Command,say ** An admin set the mission to DESTROY THE RING **,0,-1"
	"OnUser3" "!self,SetValue,2,0,-1"
	"OnUser3" "consola,Command,say ** An admin set the mission to REACH MOUNT DOOM **,0,-1"
}

; logic_compare for the selected mode message

add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_MissionSelect_COMPARE"
	"InitialValue" "0"
	"CompareValue" "1"
	"classname" "logic_compare"
	; Nothing OnLessThan, default behaviour
	"OnEqualTo" "consola,Command,say ** [EVENT] THE MISSION IS FORCED TO 'DESTROY THE RING' **,0,1"
	"OnGreaterThan" "consola,Command,say ** [EVENT] THE MISSION IS FORCED TO 'REACH MOUNT DOOM' **,0,1"
}



; Handle doors speed
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_COUNTER"
	"startvalue" "0"
	"StartDisabled" "0"
	"min" "0"
	"max" "16"
	"classname" "math_counter"
	"OnGetValue" "4EchoEvent_FasterDoors_CASE,InValue,,0,-1"
	; Outputs for MapAdmin on logic_relays
}

; Handle nazgul enable/disable
add:
{
	"targetname" "4EchoEvent_NazgulToggle_BRANCH"
	"origin" "8576 512 -4352"
	"InitialValue" "0"
	"classname" "logic_branch"
	"OnFalse" "NazgulItemDoor_Branch,SetValue,1,0,-1"
	"OnTrue" "consola,Command,say ** [EVENT] NAZGUL WONT BE PICKABLE **,0,-1"
	"OnTrue" "NazgulItemDoor_Branch,SetValue,0,0,-1"
	; Outputs for MapAdmin
	"OnUser1" "!self,SetValue,1,0,-1"
	"OnUser1" "consola,Command,say ** An admin disabled NAZGUL **,0,-1"
	"OnUser2" "!self,SetValue,0,0,-1"
	"OnUser2" "consola,Command,say ** An admin enabled NAZGUL **,0,-1"
}

;*****************************
;Non permanent entities below 
;*****************************


; Adjusting doors and momentary rot speed
; 	Momentary rot speed = 5 (for all of them except one which is 4 for some reasons)
;		manibela_1 to 6 (a wildcard affect the prop dynamic override but doesnt matter)
; 	Door speed = 4 (for all of them)
;		puerta_2 to 5
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_CASE"
	"Case01" "1"
	"Case02" "2"
	"Case03" "3"
	"Case04" "4"
	"Case05" "5"
	"Case06" "6"
	"Case07" "7"
	"Case08" "8"
	"Case09" "9"
	"Case10" "10"
	"Case11" "11"
	"Case12" "12"
	"Case13" "13"
	"Case14" "14"
	"Case15" "15"
	"Case16" "16"
	"classname" "logic_case"
	; Nothing changes OnCase01
	"OnDefault" "!self,FireUser1,,0,1"
	"OnCase01" "consola,Command,say ** [EVENT] DOORS WILL OPEN AT A NORMAL SPEED **,0,1"
	"OnCase01" "!self,FireUser1,,0,1"
	"OnCase02" "consola,Command,say ** [EVENT] DOORS WILL OPEN 1.5 TIMES FASTER **,0,1"
	"OnCase02" "manibela_*,AddOutput,speed 7.5,0,1"
	"OnCase02" "puerta_*,AddOutput,speed 6,0,1"
	"OnCase03" "consola,Command,say ** [EVENT] DOORS WILL OPEN 2 TIMES FASTER **,0,1"
	"OnCase03" "manibela_*,AddOutput,speed 10,0,1"
	"OnCase03" "puerta_*,AddOutput,speed 8,0,1"
	"OnCase04" "consola,Command,say ** [EVENT] DOORS WILL OPEN 2.5 TIMES FASTER **,0,1"
	"OnCase04" "manibela_*,AddOutput,speed 12.5,0,1"
	"OnCase04" "puerta_*,AddOutput,speed 10,0,1"
	"OnCase05" "consola,Command,say ** [EVENT] DOORS WILL OPEN 3 TIMES FASTER **,0,1"
	"OnCase05" "manibela_*,AddOutput,speed 15,0,1"
	"OnCase05" "puerta_*,AddOutput,speed 12,0,1"
	"OnCase06" "consola,Command,say ** [EVENT] DOORS WILL OPEN 3.5 TIMES FASTER **,0,1"
	"OnCase06" "manibela_*,AddOutput,speed 17.5,0,1"
	"OnCase06" "puerta_*,AddOutput,speed 14,0,1"
	"OnCase07" "consola,Command,say ** [EVENT] DOORS WILL OPEN 4 TIMES FASTER **,0,1"
	"OnCase07" "manibela_*,AddOutput,speed 20,0,1"
	"OnCase07" "puerta_*,AddOutput,speed 16,0,1"
	"OnCase08" "consola,Command,say ** [EVENT] DOORS WILL OPEN 4.5 TIMES FASTER **,0,1"
	"OnCase08" "manibela_*,AddOutput,speed 22.5,0,1"
	"OnCase08" "puerta_*,AddOutput,speed 18,0,1"
	"OnCase09" "consola,Command,say ** [EVENT] DOORS WILL OPEN 5 TIMES FASTER **,0,1"
	"OnCase09" "manibela_*,AddOutput,speed 25,0,1"
	"OnCase09" "puerta_*,AddOutput,speed 20,0,1"
	"OnCase10" "consola,Command,say ** [EVENT] DOORS WILL OPEN 5.5 TIMES FASTER **,0,1"
	"OnCase10" "manibela_*,AddOutput,speed 27.5,0,1"
	"OnCase10" "puerta_*,AddOutput,speed 22,0,1"
	"OnCase11" "consola,Command,say ** [EVENT] DOORS WILL OPEN 6 TIMES FASTER **,0,1"
	"OnCase11" "manibela_*,AddOutput,speed 30,0,1"
	"OnCase11" "puerta_*,AddOutput,speed 24,0,1"
	"OnCase12" "consola,Command,say ** [EVENT] DOORS WILL OPEN 6.5 TIMES FASTER **,0,1"
	"OnCase12" "manibela_*,AddOutput,speed 32.5,0,1"
	"OnCase12" "puerta_*,AddOutput,speed 26,0,1"
	"OnCase13" "consola,Command,say ** [EVENT] DOORS WILL OPEN 7 TIMES FASTER **,0,1"
	"OnCase13" "manibela_*,AddOutput,speed 35,0,1"
	"OnCase13" "puerta_*,AddOutput,speed 28,0,1"
	"OnCase14" "consola,Command,say ** [EVENT] DOORS WILL OPEN 7.5 TIMES FASTER **,0,1"
	"OnCase14" "manibela_*,AddOutput,speed 37.5,0,1"
	"OnCase14" "puerta_*,AddOutput,speed 30,0,1"
	"OnCase15" "consola,Command,say ** [EVENT] DOORS WILL OPEN 8 TIMES FASTER **,0,1"
	"OnCase15" "manibela_*,AddOutput,speed 40,0,1"
	"OnCase15" "puerta_*,AddOutput,speed 32,0,1"
	"OnCase16" "consola,Command,say ** [EVENT] DOORS WILL OPEN 8.5 TIMES FASTER **,0,1"
	"OnCase16" "manibela_*,AddOutput,speed 42.5,0,1"
	"OnCase16" "puerta_*,AddOutput,speed 34,0,1"
}


; Doors Relays for MapAdmin

add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_RELAY_1"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_FasterDoors_COUNTER,SetValue,1,0,-1"
	"OnUser1" "consola,Command,say ** An admin set DOORS SPEED TO NORMAL **,0,-1"
	"OnUser2" "4EchoEvent_FasterDoors_COUNTER,SetValue,2,0,-1"
	"OnUser2" "consola,Command,say ** An admin set DOORS SPEED TO 1.5 TIMES FASTER **,0,-1"
	"OnUser3" "4EchoEvent_FasterDoors_COUNTER,SetValue,3,0,-1"
	"OnUser3" "consola,Command,say ** An admin set DOORS SPEED TO 2 TIMES FASTER **,0,-1"
	"OnUser4" "4EchoEvent_FasterDoors_COUNTER,SetValue,4,0,-1"
	"OnUser4" "consola,Command,say ** An admin set DOORS SPEED TO 2.5 TIMES FASTER **,0,-1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_RELAY_2"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_FasterDoors_COUNTER,SetValue,5,0,-1"
	"OnUser1" "consola,Command,say ** An admin set DOORS SPEED TO 3 TIMES FASTER **,0,-1"
	"OnUser2" "4EchoEvent_FasterDoors_COUNTER,SetValue,6,0,-1"
	"OnUser2" "consola,Command,say ** An admin set DOORS SPEED TO 3.5 TIMES FASTER **,0,-1"
	"OnUser3" "4EchoEvent_FasterDoors_COUNTER,SetValue,7,0,-1"
	"OnUser3" "consola,Command,say ** An admin set DOORS SPEED TO 4 TIMES FASTER **,0,-1"
	"OnUser4" "4EchoEvent_FasterDoors_COUNTER,SetValue,8,0,-1"
	"OnUser4" "consola,Command,say ** An admin set DOORS SPEED TO 4.5 TIMES FASTER **,0,-1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_RELAY_3"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_FasterDoors_COUNTER,SetValue,9,0,-1"
	"OnUser1" "consola,Command,say ** An admin set DOORS SPEED TO 5 TIMES FASTER **,0,-1"
	"OnUser2" "4EchoEvent_FasterDoors_COUNTER,SetValue,10,0,-1"
	"OnUser2" "consola,Command,say ** An admin set DOORS SPEED TO 5.5 TIMES FASTER **,0,-1"
	"OnUser3" "4EchoEvent_FasterDoors_COUNTER,SetValue,11,0,-1"
	"OnUser3" "consola,Command,say ** An admin set DOORS SPEED TO 6 TIMES FASTER **,0,-1"
	"OnUser4" "4EchoEvent_FasterDoors_COUNTER,SetValue,12,0,-1"
	"OnUser4" "consola,Command,say ** An admin set DOORS SPEED TO 6.5 TIMES FASTER **,0,-1"
}
add:
{
	"origin" "8576 512 -4352"
	"targetname" "4EchoEvent_FasterDoors_RELAY_4"
	"StartDisabled" "0"
	"spawnflags" "0"
	"classname" "logic_relay"
	"OnUser1" "4EchoEvent_FasterDoors_COUNTER,SetValue,13,0,-1"
	"OnUser1" "consola,Command,say ** An admin set DOORS SPEED TO 7 TIMES FASTER **,0,-1"
	"OnUser2" "4EchoEvent_FasterDoors_COUNTER,SetValue,14,0,-1"
	"OnUser2" "consola,Command,say ** An admin set DOORS SPEED TO 7.5 TIMES FASTER **,0,-1"
	"OnUser3" "4EchoEvent_FasterDoors_COUNTER,SetValue,15,0,-1"
	"OnUser3" "consola,Command,say ** An admin set DOORS SPEED TO 8 TIMES FASTER **,0,-1"
	"OnUser4" "4EchoEvent_FasterDoors_COUNTER,SetValue,16,0,-1"
	"OnUser4" "consola,Command,say ** An admin set DOORS SPEED TO 8.5 TIMES FASTER **,0,-1"
}
